{"uid":"64e4eeadfa2c8ca1","name":"DELETE /post/{id} -> Delete post by id","fullName":"tests.posts.test_post_crud.TestPostsCRUD#test_delete_post_by_id","historyId":"496be97100b9468f265c2496e8c5a6b4","time":{"start":1769709922140,"stop":1769709922610,"duration":470},"status":"failed","statusMessage":"AssertionError: {'error': 'SERVER_ERROR'}","statusTrace":"self = <test_post_crud.TestPostsCRUD object at 0x00000163D0E8E870>\ncreated_user = ('697ba1472f69c11e9ff9b6f0', UserModel(id='697ba1472f69c11e9ff9b6f0', email='autotest_74d6b021ead4417ab8db0e2e7386adc3@example.com', firstName='Melissa', lastName='Moreno', dateOfBirth='1968-10-28T00:00:00.000Z', phone='0913350698538'))\npost_factory = <function post_factory.<locals>.create at 0x00000163D1353380>\n\n    @allure.title(\"DELETE /post/{id} -> Delete post by id\")\n    def test_delete_post_by_id(self, created_user, post_factory):\n        user_id, _ = created_user\n>       post_id, _ = post_factory(owner_id=user_id)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\posts\\test_post_crud.py:59: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests\\conftest.py:132: in create\n    post_id, post = posts_api.create_post(owner_id=owner_id)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.posts.api_posts.PostsAPI object at 0x00000163D0EF03B0>, owner_id = '697ba1472f69c11e9ff9b6f0'\npayload = {'image': 'https://images.unsplash.com/photo-1542291026-7eec264c27ff', 'likes': 0, 'owner': '697ba1472f69c11e9ff9b6f0', 'tags': ['qa', 'pytest'], ...}\n\n    @allure.step(\"Create post (owner={owner_id})\")\n    def create_post(self, owner_id: str, payload: dict | None = None) -> tuple[str, PostModel]:\n        if payload is None:\n            payload = PostPayloads.create_post(owner_id)\n    \n        resp = self.create_post_response(payload)\n        body = resp.json()\n    \n>       assert resp.status_code in (200, 201), body\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AssertionError: {'error': 'SERVER_ERROR'}\n\nservices\\posts\\api_posts.py:68: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"_session_faker","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"env_check","time":{"start":1769709855026,"stop":1769709855636,"duration":610},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"api_token","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"http","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"comments_api","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"comment_endpoints","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"post_endpoints","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"users_api","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"posts_api","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"endpoints","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"_init_clients","time":{"start":1769709921776,"stop":1769709921776,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"created_user","time":{"start":1769709921776,"stop":1769709922140,"duration":364},"status":"passed","steps":[{"name":"Create user","time":{"start":1769709921776,"stop":1769709922140,"duration":364},"status":"passed","steps":[{"name":"POST /user/create (raw)","time":{"start":1769709921776,"stop":1769709922140,"duration":364},"status":"passed","steps":[],"attachments":[{"uid":"d9c7e7932d18c82a","name":"API Response","source":"d9c7e7932d18c82a.json","type":"application/json","size":336}],"parameters":[{"name":"payload","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},{"name":"user_factory","time":{"start":1769709921776,"stop":1769709921776,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"post_factory","time":{"start":1769709922140,"stop":1769709922140,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: {'error': 'SERVER_ERROR'}","statusTrace":"self = <test_post_crud.TestPostsCRUD object at 0x00000163D0E8E870>\ncreated_user = ('697ba1472f69c11e9ff9b6f0', UserModel(id='697ba1472f69c11e9ff9b6f0', email='autotest_74d6b021ead4417ab8db0e2e7386adc3@example.com', firstName='Melissa', lastName='Moreno', dateOfBirth='1968-10-28T00:00:00.000Z', phone='0913350698538'))\npost_factory = <function post_factory.<locals>.create at 0x00000163D1353380>\n\n    @allure.title(\"DELETE /post/{id} -> Delete post by id\")\n    def test_delete_post_by_id(self, created_user, post_factory):\n        user_id, _ = created_user\n>       post_id, _ = post_factory(owner_id=user_id)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\posts\\test_post_crud.py:59: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests\\conftest.py:132: in create\n    post_id, post = posts_api.create_post(owner_id=owner_id)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.posts.api_posts.PostsAPI object at 0x00000163D0EF03B0>, owner_id = '697ba1472f69c11e9ff9b6f0'\npayload = {'image': 'https://images.unsplash.com/photo-1542291026-7eec264c27ff', 'likes': 0, 'owner': '697ba1472f69c11e9ff9b6f0', 'tags': ['qa', 'pytest'], ...}\n\n    @allure.step(\"Create post (owner={owner_id})\")\n    def create_post(self, owner_id: str, payload: dict | None = None) -> tuple[str, PostModel]:\n        if payload is None:\n            payload = PostPayloads.create_post(owner_id)\n    \n        resp = self.create_post_response(payload)\n        body = resp.json()\n    \n>       assert resp.status_code in (200, 201), body\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AssertionError: {'error': 'SERVER_ERROR'}\n\nservices\\posts\\api_posts.py:68: AssertionError","steps":[{"name":"Create post (owner='697ba1472f69c11e9ff9b6f0')","time":{"start":1769709922140,"stop":1769709922610,"duration":470},"status":"failed","statusMessage":"AssertionError: {'error': 'SERVER_ERROR'}\n","statusTrace":"  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\posts\\api_posts.py\", line 68, in create_post\n    assert resp.status_code in (200, 201), body\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"POST /post/create (raw)","time":{"start":1769709922140,"stop":1769709922610,"duration":470},"status":"passed","steps":[],"attachments":[{"uid":"ff14655ed976bfbe","name":"API Response","source":"ff14655ed976bfbe.json","type":"application/json","size":31}],"parameters":[{"name":"payload","value":"{'text': 'Auto post 3711aa84', 'image': 'https://images.unsplash.com/photo-1542291026-7eec264c27ff', 'likes': 0, 'tags': ['qa', 'pytest'], 'owner': '697ba1472f69c11e9ff9b6f0'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"owner_id","value":"'697ba1472f69c11e9ff9b6f0'"},{"name":"payload","value":"None"}],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},"afterStages":[{"name":"post_factory::0","time":{"start":1769709922617,"stop":1769709922617,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"user_factory::0","time":{"start":1769709922618,"stop":1769709922870,"duration":252},"status":"passed","steps":[{"name":"Delete user by id: '697ba1472f69c11e9ff9b6f0'","time":{"start":1769709922618,"stop":1769709922870,"duration":252},"status":"passed","steps":[{"name":"DELETE /user/'697ba1472f69c11e9ff9b6f0' (raw)","time":{"start":1769709922618,"stop":1769709922870,"duration":252},"status":"passed","steps":[],"attachments":[{"uid":"9ea0bd2da17778b6","name":"API Response","source":"9ea0bd2da17778b6.json","type":"application/json","size":40}],"parameters":[{"name":"user_id","value":"'697ba1472f69c11e9ff9b6f0'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"user_id","value":"'697ba1472f69c11e9ff9b6f0'"},{"name":"allow_not_found","value":"True"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},{"name":"http::0","time":{"start":1769709962933,"stop":1769709962933,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false}],"labels":[{"name":"feature","value":"Posts"},{"name":"epic","value":"Administration"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests.posts"},{"name":"suite","value":"test_post_crud"},{"name":"subSuite","value":"TestPostsCRUD"},{"name":"host","value":"keni"},{"name":"thread","value":"18868-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.posts.test_post_crud"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["smoke"]},"source":"64e4eeadfa2c8ca1.json","parameterValues":[]}