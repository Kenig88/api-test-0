{"uid":"60d86c055317bfda","name":"PUT /post/{id} -> Update post by id","fullName":"tests.posts.test_post_crud.TestPostsCRUD#test_update_post_by_id","historyId":"274de11f454e5c79df0190b014febbcd","time":{"start":1769709920754,"stop":1769709920754,"duration":0},"status":"failed","statusMessage":"AssertionError: {'error': 'SERVER_ERROR'}","statusTrace":"user_factory = <function user_factory.<locals>.create at 0x00000163D1353EC0>\n\n    @pytest.fixture\n    def created_user(user_factory):\n        \"\"\"Один пользователь на тест + авто-удаление после теста.\"\"\"\n>       return user_factory()\n               ^^^^^^^^^^^^^^\n\ntests\\conftest.py:102: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests\\conftest.py:87: in create\n    user_id, user = users_api.create_user()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <services.users.api_users.UsersAPI object at 0x00000163D0EC4BF0>\n\n    @allure.step(\"Create user\")\n    def create_user(self):\n        response = self.create_user_response()\n        response_json = response.json()\n    \n>       assert response.status_code in (200, 201), response_json\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       AssertionError: {'error': 'SERVER_ERROR'}\n\nservices\\users\\api_users.py:69: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"_session_faker","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"env_check","time":{"start":1769709855026,"stop":1769709855636,"duration":610},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"api_token","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"http","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"comments_api","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"comment_endpoints","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"post_endpoints","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"users_api","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"posts_api","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"endpoints","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"_init_clients","time":{"start":1769709920754,"stop":1769709920755,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"user_factory","time":{"start":1769709920755,"stop":1769709920755,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"created_user","time":{"start":1769709920755,"stop":1769709921744,"duration":989},"status":"failed","statusMessage":"AssertionError: {'error': 'SERVER_ERROR'}\n","statusTrace":"  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 915, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 102, in created_user\n    return user_factory()\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 87, in create\n    user_id, user = users_api.create_user()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\users\\api_users.py\", line 69, in create_user\n    assert response.status_code in (200, 201), response_json\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Create user","time":{"start":1769709920755,"stop":1769709921744,"duration":989},"status":"failed","statusMessage":"AssertionError: {'error': 'SERVER_ERROR'}\n","statusTrace":"  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\users\\api_users.py\", line 69, in create_user\n    assert response.status_code in (200, 201), response_json\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"POST /user/create (raw)","time":{"start":1769709920755,"stop":1769709921744,"duration":989},"status":"passed","steps":[],"attachments":[{"uid":"3aff2b3d229f9bb2","name":"API Response","source":"3aff2b3d229f9bb2.json","type":"application/json","size":31}],"parameters":[{"name":"payload","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},{"name":"post_factory","time":{"start":1769709922140,"stop":1769709922140,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false}],"afterStages":[{"name":"user_factory::0","time":{"start":1769709921760,"stop":1769709921760,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"post_factory::0","time":{"start":1769709922617,"stop":1769709922617,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"http::0","time":{"start":1769709962933,"stop":1769709962933,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false}],"labels":[{"name":"feature","value":"Posts"},{"name":"epic","value":"Administration"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests.posts"},{"name":"suite","value":"test_post_crud"},{"name":"subSuite","value":"TestPostsCRUD"},{"name":"host","value":"keni"},{"name":"thread","value":"18868-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.posts.test_post_crud"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["smoke"]},"source":"60d86c055317bfda.json","parameterValues":[]}