{"uid":"b377dbb47611fd2a","name":"Delete comment by id","fullName":"tests.comments.test_comments_regression.TestComments#test_delete_comment","historyId":"027f4afb473cb4d497cc1eb8cebb510f","time":{"start":1769709912932,"stop":1769709914525,"duration":1593},"status":"broken","statusMessage":"ExceptionGroup: errors while tearing down <Function test_delete_comment> (3 sub-exceptions)","statusTrace":"+ Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 353, in from_call\n  |     result: TResult | None = func()\n  |                              ^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 245, in <lambda>\n  |     lambda: runtest_hook(item=item, **kwds),\n  |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py\", line 512, in __call__\n  |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_manager.py\", line 120, in _hookexec\n  |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 167, in _multicall\n  |     raise exception\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n  |     teardown.throw(exception)\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\logging.py\", line 858, in pytest_runtest_teardown\n  |     yield\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n  |     teardown.throw(exception)\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 53, in run_old_style_hookwrapper\n  |     return result.get_result()\n  |            ^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_result.py\", line 103, in get_result\n  |     raise exc.with_traceback(tb)\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 38, in run_old_style_hookwrapper\n  |     res = yield\n  |           ^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n  |     teardown.throw(exception)\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\capture.py\", line 905, in pytest_runtest_teardown\n  |     return (yield)\n  |             ^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 121, in _multicall\n  |     res = hook_impl.function(*args)\n  |           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 194, in pytest_runtest_teardown\n  |     item.session._setupstate.teardown_exact(nextitem)\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 566, in teardown_exact\n  |     raise exceptions[0]\n  | ExceptionGroup: errors while tearing down <Function test_delete_comment> (3 sub-exceptions)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 555, in teardown_exact\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1053, in finish\n    |     raise exceptions[0]\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1042, in finish\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 231, in __call__\n    |     return self._fixture_function(*args, **kwargs)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 924, in _teardown_yield_fixture\n    |     next(it)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 96, in user_factory\n    |     users_api.delete_user(user_id, allow_not_found=True)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    |     return func(*a, **kw)\n    |            ^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\users\\api_users.py\", line 105, in delete_user\n    |     assert response.status_code in (200, 204), body\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | AssertionError: {'error': 'SERVER_ERROR'}\n    +---------------- 2 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 555, in teardown_exact\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1053, in finish\n    |     raise exceptions[0]\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1042, in finish\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 231, in __call__\n    |     return self._fixture_function(*args, **kwargs)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 924, in _teardown_yield_fixture\n    |     next(it)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 139, in post_factory\n    |     posts_api.delete_post(post_id, allow_not_found=True)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    |     return func(*a, **kw)\n    |            ^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\posts\\api_posts.py\", line 94, in delete_post\n    |     assert resp.status_code in (200, 204), resp.text\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | AssertionError: {\"error\":\"SERVER_ERROR\"}\n    +---------------- 3 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 555, in teardown_exact\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1053, in finish\n    |     raise exceptions[0]\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1042, in finish\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 231, in __call__\n    |     return self._fixture_function(*args, **kwargs)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 924, in _teardown_yield_fixture\n    |     next(it)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 185, in comment_factory\n    |     comments_api.delete_comment(cid, allow_not_found=True)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    |     return func(*a, **kw)\n    |            ^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\comments\\api_comments.py\", line 66, in delete_comment\n    |     assert resp.status_code in (200, 204), resp.text\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | AssertionError: {\"error\":\"SERVER_ERROR\"}\n    +------------------------------------","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"base_url","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"_session_faker","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"env_check","time":{"start":1769709855026,"stop":1769709855636,"duration":610},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"api_token","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"http","time":{"start":1769709855026,"stop":1769709855026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"comments_api","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"comment_endpoints","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"post_endpoints","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"users_api","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"posts_api","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"endpoints","time":{"start":1769709855636,"stop":1769709855636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"created_user","time":{"start":1769709912700,"stop":1769709912932,"duration":232},"status":"passed","steps":[{"name":"Create user","time":{"start":1769709912700,"stop":1769709912932,"duration":232},"status":"passed","steps":[{"name":"POST /user/create (raw)","time":{"start":1769709912700,"stop":1769709912932,"duration":232},"status":"passed","steps":[],"attachments":[{"uid":"d807677b2993d6de","name":"API Response","source":"d807677b2993d6de.json","type":"application/json","size":336}],"parameters":[{"name":"payload","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},{"name":"_init_clients","time":{"start":1769709912700,"stop":1769709912700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"user_factory","time":{"start":1769709912700,"stop":1769709912700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"comment_factory","time":{"start":1769709912932,"stop":1769709912932,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false},{"name":"post_factory","time":{"start":1769709912932,"stop":1769709912932,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"ExceptionGroup: errors while tearing down <Function test_delete_comment> (3 sub-exceptions)","statusTrace":"+ Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 353, in from_call\n  |     result: TResult | None = func()\n  |                              ^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 245, in <lambda>\n  |     lambda: runtest_hook(item=item, **kwds),\n  |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py\", line 512, in __call__\n  |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_manager.py\", line 120, in _hookexec\n  |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 167, in _multicall\n  |     raise exception\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n  |     teardown.throw(exception)\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\logging.py\", line 858, in pytest_runtest_teardown\n  |     yield\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n  |     teardown.throw(exception)\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 53, in run_old_style_hookwrapper\n  |     return result.get_result()\n  |            ^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_result.py\", line 103, in get_result\n  |     raise exc.with_traceback(tb)\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 38, in run_old_style_hookwrapper\n  |     res = yield\n  |           ^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n  |     teardown.throw(exception)\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\capture.py\", line 905, in pytest_runtest_teardown\n  |     return (yield)\n  |             ^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\pluggy\\_callers.py\", line 121, in _multicall\n  |     res = hook_impl.function(*args)\n  |           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 194, in pytest_runtest_teardown\n  |     item.session._setupstate.teardown_exact(nextitem)\n  |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 566, in teardown_exact\n  |     raise exceptions[0]\n  | ExceptionGroup: errors while tearing down <Function test_delete_comment> (3 sub-exceptions)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 555, in teardown_exact\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1053, in finish\n    |     raise exceptions[0]\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1042, in finish\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 231, in __call__\n    |     return self._fixture_function(*args, **kwargs)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 924, in _teardown_yield_fixture\n    |     next(it)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 96, in user_factory\n    |     users_api.delete_user(user_id, allow_not_found=True)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    |     return func(*a, **kw)\n    |            ^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\users\\api_users.py\", line 105, in delete_user\n    |     assert response.status_code in (200, 204), body\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | AssertionError: {'error': 'SERVER_ERROR'}\n    +---------------- 2 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 555, in teardown_exact\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1053, in finish\n    |     raise exceptions[0]\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1042, in finish\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 231, in __call__\n    |     return self._fixture_function(*args, **kwargs)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 924, in _teardown_yield_fixture\n    |     next(it)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 139, in post_factory\n    |     posts_api.delete_post(post_id, allow_not_found=True)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    |     return func(*a, **kw)\n    |            ^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\posts\\api_posts.py\", line 94, in delete_post\n    |     assert resp.status_code in (200, 204), resp.text\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | AssertionError: {\"error\":\"SERVER_ERROR\"}\n    +---------------- 3 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\runner.py\", line 555, in teardown_exact\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1053, in finish\n    |     raise exceptions[0]\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 1042, in finish\n    |     fin()\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 231, in __call__\n    |     return self._fixture_function(*args, **kwargs)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 924, in _teardown_yield_fixture\n    |     next(it)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 185, in comment_factory\n    |     comments_api.delete_comment(cid, allow_not_found=True)\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    |     return func(*a, **kw)\n    |            ^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\comments\\api_comments.py\", line 66, in delete_comment\n    |     assert resp.status_code in (200, 204), resp.text\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    | AssertionError: {\"error\":\"SERVER_ERROR\"}\n    +------------------------------------","steps":[{"name":"Create post (owner='697ba13e8c5205ae18fd2015')","time":{"start":1769709912932,"stop":1769709913184,"duration":252},"status":"passed","steps":[{"name":"POST /post/create (raw)","time":{"start":1769709912932,"stop":1769709913184,"duration":252},"status":"passed","steps":[],"attachments":[{"uid":"1b399e8583cc2f11","name":"API Response","source":"1b399e8583cc2f11.json","type":"application/json","size":451}],"parameters":[{"name":"payload","value":"{'text': 'Auto post b89f3b0c', 'image': 'https://images.unsplash.com/photo-1542291026-7eec264c27ff', 'likes': 0, 'tags': ['qa', 'pytest'], 'owner': '697ba13e8c5205ae18fd2015'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"owner_id","value":"'697ba13e8c5205ae18fd2015'"},{"name":"payload","value":"None"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},{"name":"Create comment (owner='697ba13e8c5205ae18fd2015', post='697ba13e45cde7a957b2d03a')","time":{"start":1769709913184,"stop":1769709913608,"duration":424},"status":"passed","steps":[{"name":"POST /comment/create (raw)","time":{"start":1769709913184,"stop":1769709913608,"duration":424},"status":"passed","steps":[],"attachments":[{"uid":"af899cf13cd24ab2","name":"API Response","source":"af899cf13cd24ab2.json","type":"application/json","size":292}],"parameters":[{"name":"payload","value":"{'message': 'Auto comment f83fd180', 'owner': '697ba13e8c5205ae18fd2015', 'post': '697ba13e45cde7a957b2d03a'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"owner_id","value":"'697ba13e8c5205ae18fd2015'"},{"name":"post_id","value":"'697ba13e45cde7a957b2d03a'"},{"name":"payload","value":"None"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},{"name":"Delete comment by id: '697ba13e370e682be7d5b810'","time":{"start":1769709913608,"stop":1769709914288,"duration":680},"status":"passed","steps":[{"name":"DELETE /comment/'697ba13e370e682be7d5b810' (raw)","time":{"start":1769709913608,"stop":1769709914288,"duration":680},"status":"passed","steps":[],"attachments":[{"uid":"997f1581d29a2244","name":"API Response","source":"997f1581d29a2244.json","type":"application/json","size":40}],"parameters":[{"name":"comment_id","value":"'697ba13e370e682be7d5b810'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"comment_id","value":"'697ba13e370e682be7d5b810'"},{"name":"allow_not_found","value":"False"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},{"name":"DELETE /comment/'697ba13e370e682be7d5b810' (raw)","time":{"start":1769709914288,"stop":1769709914525,"duration":237},"status":"passed","steps":[],"attachments":[{"uid":"a978b67d80f0f969","name":"API Response","source":"a978b67d80f0f969.json","type":"application/json","size":37}],"parameters":[{"name":"comment_id","value":"'697ba13e370e682be7d5b810'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":7,"shouldDisplayMessage":true,"attachmentsCount":4,"attachmentStep":false,"hasContent":true},"afterStages":[{"name":"comment_factory::0","time":{"start":1769709914525,"stop":1769709916901,"duration":2376},"status":"failed","statusMessage":"AssertionError: {\"error\":\"SERVER_ERROR\"}\n","statusTrace":"  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 924, in _teardown_yield_fixture\n    next(it)\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 185, in comment_factory\n    comments_api.delete_comment(cid, allow_not_found=True)\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\comments\\api_comments.py\", line 66, in delete_comment\n    assert resp.status_code in (200, 204), resp.text\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Delete comment by id: '697ba13e370e682be7d5b810'","time":{"start":1769709914525,"stop":1769709916901,"duration":2376},"status":"failed","statusMessage":"AssertionError: {\"error\":\"SERVER_ERROR\"}\n","statusTrace":"  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\comments\\api_comments.py\", line 66, in delete_comment\n    assert resp.status_code in (200, 204), resp.text\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"DELETE /comment/'697ba13e370e682be7d5b810' (raw)","time":{"start":1769709914525,"stop":1769709916901,"duration":2376},"status":"passed","steps":[],"attachments":[{"uid":"2ae96f01616329d8","name":"API Response","source":"2ae96f01616329d8.json","type":"application/json","size":31}],"parameters":[{"name":"comment_id","value":"'697ba13e370e682be7d5b810'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"comment_id","value":"'697ba13e370e682be7d5b810'"},{"name":"allow_not_found","value":"True"}],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},{"name":"post_factory::0","time":{"start":1769709916925,"stop":1769709917308,"duration":383},"status":"failed","statusMessage":"AssertionError: {\"error\":\"SERVER_ERROR\"}\n","statusTrace":"  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 924, in _teardown_yield_fixture\n    next(it)\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 139, in post_factory\n    posts_api.delete_post(post_id, allow_not_found=True)\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\posts\\api_posts.py\", line 94, in delete_post\n    assert resp.status_code in (200, 204), resp.text\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Delete post by id: '697ba13e45cde7a957b2d03a'","time":{"start":1769709916925,"stop":1769709917308,"duration":383},"status":"failed","statusMessage":"AssertionError: {\"error\":\"SERVER_ERROR\"}\n","statusTrace":"  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\posts\\api_posts.py\", line 94, in delete_post\n    assert resp.status_code in (200, 204), resp.text\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"DELETE /post/'697ba13e45cde7a957b2d03a' (raw)","time":{"start":1769709916925,"stop":1769709917308,"duration":383},"status":"passed","steps":[],"attachments":[{"uid":"7bc18c7eef05e228","name":"API Response","source":"7bc18c7eef05e228.json","type":"application/json","size":31}],"parameters":[{"name":"post_id","value":"'697ba13e45cde7a957b2d03a'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"post_id","value":"'697ba13e45cde7a957b2d03a'"},{"name":"allow_not_found","value":"True"}],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},{"name":"user_factory::0","time":{"start":1769709917308,"stop":1769709917609,"duration":301},"status":"failed","statusMessage":"AssertionError: {'error': 'SERVER_ERROR'}\n","statusTrace":"  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py\", line 924, in _teardown_yield_fixture\n    next(it)\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\tests\\conftest.py\", line 96, in user_factory\n    users_api.delete_user(user_id, allow_not_found=True)\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\users\\api_users.py\", line 105, in delete_user\n    assert response.status_code in (200, 204), body\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Delete user by id: '697ba13e8c5205ae18fd2015'","time":{"start":1769709917308,"stop":1769709917609,"duration":301},"status":"failed","statusMessage":"AssertionError: {'error': 'SERVER_ERROR'}\n","statusTrace":"  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\.venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"C:\\Users\\14bas\\PycharmProjects\\api-test-0\\services\\users\\api_users.py\", line 105, in delete_user\n    assert response.status_code in (200, 204), body\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"DELETE /user/'697ba13e8c5205ae18fd2015' (raw)","time":{"start":1769709917308,"stop":1769709917609,"duration":301},"status":"passed","steps":[],"attachments":[{"uid":"7fef3fc16cbf5925","name":"API Response","source":"7fef3fc16cbf5925.json","type":"application/json","size":31}],"parameters":[{"name":"user_id","value":"'697ba13e8c5205ae18fd2015'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"user_id","value":"'697ba13e8c5205ae18fd2015'"},{"name":"allow_not_found","value":"True"}],"stepsCount":1,"shouldDisplayMessage":true,"attachmentsCount":1,"attachmentStep":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"attachmentStep":false,"hasContent":true},{"name":"http::0","time":{"start":1769709962933,"stop":1769709962933,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"hasContent":false}],"labels":[{"name":"feature","value":"Comments"},{"name":"epic","value":"Administration"},{"name":"tag","value":"regression"},{"name":"parentSuite","value":"tests.comments"},{"name":"suite","value":"test_comments_regression"},{"name":"subSuite","value":"TestComments"},{"name":"host","value":"keni"},{"name":"thread","value":"18868-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.comments.test_comments_regression"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4e282798223b0ace","status":"passed","time":{"start":1769699730436,"stop":1769699731494,"duration":1058}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":4,"unknown":0,"total":8},"items":[{"uid":"8b27ef4d87cf5a4d","status":"broken","statusDetails":"ExceptionGroup: errors while tearing down <Function test_delete_comment> (3 sub-exceptions)","time":{"start":1769709912932,"stop":1769709914525,"duration":1593}},{"uid":"db5437431d136b79","status":"broken","statusDetails":"ExceptionGroup: errors while tearing down <Function test_delete_comment> (3 sub-exceptions)","time":{"start":1769709912932,"stop":1769709914525,"duration":1593}},{"uid":"1419e61a1e667848","status":"broken","statusDetails":"ExceptionGroup: errors while tearing down <Function test_delete_comment> (3 sub-exceptions)","time":{"start":1769709912932,"stop":1769709914525,"duration":1593}},{"uid":"aba78ed16a5c45ea","status":"passed","time":{"start":1769699730436,"stop":1769699731494,"duration":1058}},{"uid":"334b17e5b8a5b88d","status":"passed","time":{"start":1769699730436,"stop":1769699731494,"duration":1058}},{"uid":"8d69ad4ab8e56794","status":"passed","time":{"start":1769699730436,"stop":1769699731494,"duration":1058}},{"uid":"ef0b952c73d24dbd","status":"passed","time":{"start":1769699730436,"stop":1769699731494,"duration":1058}}]},"tags":["regression"]},"source":"b377dbb47611fd2a.json","parameterValues":[]}